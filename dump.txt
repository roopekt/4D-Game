#version330corestructAffineTransform3D{mat3matrix;vec3translation;};layout(std140)uniformvertex_uniforms{AffineTransform3Dto_world_transform;AffineTransform3Dto_view_transform;AffineTransform3Dto_clip_transform;mat3normal_matrix;};invec3position;invec3normal;outFRAG_IN{vec3world_position;vec3world_normal;}v_out;vec3affine_transform(AffineTransform3Dtransform,vec3vector){returntransform.matrix*vector+transform.translation;}voidmain(){v_out.world_position=affine_transform(to_world_transform,position);v_out.world_normal=normal_matrix*normal;vec3clip_position=affine_transform(to_clip_transform,position);floatdepth=affine_transform(to_view_transform,position).z;gl_Position=vec4(clip_position,depth);}#version330corestructAffineTransform3D{mat3matrix;vec3translation;};layout(std140)uniformvertex_uniforms{AffineTransform3Dto_world_transform;AffineTransform3Dto_view_transform;AffineTransform3Dto_clip_transform;mat3normal_matrix;};invec3position;invec3normal;outGS_IN{vec3world_position;vec3world_normal;}v_out;vec3affine_transform(AffineTransform3Dtransform,vec3vector){returntransform.matrix*vector+transform.translation;}voidmain(){v_out.world_position=affine_transform(to_world_transform,position);v_out.world_normal=normal_matrix*normal;vec3clip_position=affine_transform(to_clip_transform,position);floatdepth=affine_transform(to_view_transform,position).z;gl_Position=vec4(clip_position,depth);}